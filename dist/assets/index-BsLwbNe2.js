(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const c of i.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();function s(t,o=" ",e=" ",r={}){const n=document.createElement(t);o&&(n.className=o),e&&(n.textContent=e);for(const i in r)n.setAttribute(i,r[i]);return n}function L(){let t=0;return{getCounter:()=>t,resetCounter:()=>t=0,addToCounter:()=>t++}}function f(t,...o){for(const e of o)t.appendChild(e)}function T(t,o,e=!1){return{getName:()=>t,getPriority:()=>o,getStatus:()=>e,changeStatus:()=>{e=!e},getDetails:()=>({text:t,priority:o,status:e})}}function w(){const t=s("div","main-content",""),o=s("div","main-content-top",""),e=s("div","main-content-bottom","");return f(t,o,e),{mainContent:t,mainContentBottom:e,mainContentTop:o}}function h(t,o,e,r=!1){o.innerHTML="";let n=t.getTaskList();n=n.sort((i,c)=>{const a={low:1,medium:2,high:3};return r?a[c.getPriority()]-a[i.getPriority()]:a[i.getPriority()]-a[c.getPriority()]}),n.forEach((i,c)=>{const a=s("div","task-container",""),d=s("p","",i.getName()),l=s("button","","X"),u=i.getPriority();u==="low"?a.style.border="2px solid green":u==="medium"?a.style.border="2px solid orange":u==="high"&&(a.style.border="2px solid red"),a.appendChild(d),a.appendChild(l),o.appendChild(a),l.addEventListener("click",function(){n.splice(c,1),h(t,o,e,r),y(e)})})}function F(t,o,e,r){o.innerHTML="";const n=t.getName(),i=L();let c=!1;const a=s("div","",n),d=s("div","",""),l=s("button","","Filter Tasks"),u=s("button","","Add new Task");f(o,a,d),f(d,l,u),l.addEventListener("click",function(){c=!c,h(t,e,r,c)}),u.addEventListener("click",function(){if(i.getCounter()===0){i.addToCounter();const p=s("div","",""),m=s("form","",""),g=s("input","","",{placeholder:"Task Name"}),v=s("select","","",{name:"priorityField"}),C=s("option","","Low",{value:"low"}),k=s("option","","Medium",{value:"medium"}),N=s("option","","High",{value:"high"});f(v,C,k,N);const E=s("button","","Add Task",{type:"submit"});f(m,g,v,E),p.appendChild(m),e.insertBefore(p,e.firstChild),m.addEventListener("submit",function(S){O(S,g,v,t,e,r),i.resetCounter()})}})}function O(t,o,e,r,n,i){t.preventDefault();const c=o.value,a=e.value;if(!c){alert("Task name is required!");return}const d=T(c,a,!0);r.addTask(d),h(r,n,i),y(i),o.value="",e.value="low"}function P(t,o){const e=[];return{getName:()=>t,getTaskList:()=>e,getFavorite:()=>o,addTask:r=>{e.push(r)}}}function M(t,o){const e=A(),r=L(),n=s("div","side-bar",""),i=s("div","side-bar-top",""),c=s("div","side-bar-bottom","");f(n,i,c);const a=s("h1","","Projects:"),d=s("button","","New Project");return f(i,a,d),d.addEventListener("click",function(){if(r.getCounter()===0){r.addToCounter();const l=s("div","",""),u=s("form","",""),p=s("input","","",{type:"text",name:"nameField"}),m=s("button","","Add",{type:"submit"}),g=s("input","","",{type:"checkbox",name:"favoriteField"});f(u,p,g,m),l.appendChild(u),c.insertBefore(l,c.firstChild),u.addEventListener("submit",function(v){B(v,p,g,r,e,c,t,o)})}}),b(e,c,t,o),n}function B(t,o,e,r,n,i,c,a){t.preventDefault();const d=o.value,l=e.checked;if(d){const u=P(d,l);n.push(u),y(n),b(n,i,c,a)}r.resetCounter()}function b(t,o,e,r){o.innerHTML="",t.forEach((n,i)=>{const c=s("div","",""),a=s("h1","",n.getName()),d=s("button","","X");f(c,a,d),o.appendChild(c),a.addEventListener("click",function(){h(n,e,t),F(n,r,e,t)}),d.addEventListener("click",function(){r.innerHTML="",e.innerHTML="",t.splice(i,1),y(t),b(t,o,e,r)})})}function y(t){const o=JSON.stringify(t.map(e=>({name:e.getName(),favorite:e.getFavorite(),tasks:e.getTaskList().map(r=>({name:r.getName(),priority:r.getPriority(),status:r.getStatus()}))})));localStorage.setItem("projects",o)}function A(){const t=localStorage.getItem("projects");return t?JSON.parse(t).map(e=>{const r=P(e.name,e.favorite);return e.tasks.forEach(n=>{r.addTask(T(n.name,n.priority,n.status))}),r}):[]}function x(){const t=document.getElementById("app");t.className="app-container";const{mainContent:o,mainContentBottom:e,mainContentTop:r}=w(),n=M(e,r);t.appendChild(n),t.appendChild(o)}x();
